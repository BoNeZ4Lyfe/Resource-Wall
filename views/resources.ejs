<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Resources</title>

    <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
    <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />
    <link rel="stylesheet" href="/styles/main.css" type="text/css" />
    <link rel="stylesheet" href="/styles/layout.css" type="text/css" />

    <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
    <script type="text/javascript" src="/scripts/app.js"></script>
    <script
      type="text/javascript"
      src="/scripts/components/new-resource-form.js"
    ></script>
    <script
      type="text/javascript"
      src="/scripts/components/comment.js"
    ></script>
  </head>

  <body>
    <%- include('partials/_header') %>

    <main>
      <form action="/api/resource_comment" method="post" id="comment-create" class="new-comment-form hide">
        <div class="new-comment-form">
          <label for="new-comment">Comment</label>
          <input type="text" name="comment" placeholder="comment" >
        </div>
      </form>

      <div>
        <button class="btn btn--new show">Add new</button>
      </div>

      <form action="/api/resources" method="post" id="resource-create" class="new-resource-form hide">
        <div class="new-resource-title">
            <label for="new-resource-title">Title</label>
            <input type="text" name="title" placeholder="Title" >
        </div>

        <div class="new-resource-url">
            <label for="new-resource-url">URL</label>
            <input type="url" name="url" placeholder="URL" >
        </div>

        <div class="new-resource-description">
            <label for="new-property-form__description">Description</label>
            <textarea placeholder="Description" name="description" cols="30" rows="10"></textarea>
        </div>

        <label for="topic">Choose a topic:</label>
          <select name="topic">
            <optgroup label="Markup/Design">
                <option value=""></option>
                <option value="html">HTML</option>
                <option value="css">CSS</option>
                <option value="scss">SASS</option>
            </optgroup>
            <optgroup label="Languages">
                <option value="javascript">JavaScript</option>
                <option value="python">Python</option>
                <option value="java">Java</option>
                <option value="php">PHP</option>
            </optgroup>
            <option value="others">Others</option>
          </select>
        </div>
        <button type="submit">Submit</button>
        </form>


      <div class="resource-containter show">
        <% for(const resource of locals.resources) { %>
        <article class="resource">
          <header>
            <div class="resource-title">
              <span><%= resource.title %></span>
            </div>
            <span class="resource-url"><%= resource.url %></span>
          </header>
          <div class="resource-content">
            <p><%= resource.description %></p>
          </div>
          <button class="btn btn--comment">Add comment</button>
        </article>
        <% } %>
      </div>
    </main>
  </body>
</html>

